{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","$","commonFun","commonAction","jQuery","init","this","initEvent","initMenu","getUserPhoto","on","func","attr","console","log","initFold","setContentHeight","CURRENT_URL","window","location","href","split","$BODY","$MENU_TOGGLE","$SIDEBAR_MENU","$SIDEBAR_FOOTER","$LEFT_COL","$RIGHT_COL","$NAV_MENU","$FOOTER","commonsole","msg","fn","bind","obj","args","arguments","timeout","clearTimeout","execAsap","apply","setTimeout","threshold","trigger","css","height","bodyHeight","outerHeight","footerHeight","hasClass","leftColHeight","eq","contentHeight","find","ev","$li","parent","is","removeClass","slideUp","addClass","slideDown","hide","show","toggleClass","filter","parents","smartresize","mCustomScrollbar","autoHideScrollbar","theme","mouseWheel","preventDefault","openPage","el","url","config","page","title","text","_getSpecifiedPage","page_button","pagemain","pag","extend","mode","button","html","undefined","l","style","append","load"],"mappings":"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","file":"../../test/work-practice/index.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","(function ($) {\n    var menu ;\n\n    var commonFun = {\n\n        init: function () {\n            this.initEvent();\n            this.initMenu();\n            this.getUserPhoto();\n        },\n        getUserPhoto: function () {\n        },\n        initEvent: function () {\n            $('body').on('click', '[data-action]', function (e) {\n                var func = $(this).attr('data-action');\n                console.log(func);\n                if (commonAction[func]) {\n                    commonAction[func](this);\n                }\n\n            });\n        },\n        initMenu: function () {\n            // var url = contextPath + '/oa/core/funcs/system/act/SystemAct/listMenu.act';\n            // $.ajax({\n            //     type: \"GET\",\n            //     data: {},\n            //     url: url,\n            //     dataType: 'json',\n            //     success: function (res) {\n            //         if (res.rtState === '0') {\n                        // console.log(res);\n                        // menu = res.rtData.menu;\n            //             for (var i = 0, len = menu.length, str = ''; i < len; i++) {\n            //                 str += '<li>' +\n            //                     '<a href=\"javascript:void(0)\" data-id=\"' + menu[i].id + '\" data-seqid=\"' + menu[i].seqId + '\" data-action=\"loadSubmenu\">' +\n            //                     '<i class=\"fa fa-gittip\"></i>' +\n            //                     menu[i].text +\n            //                     '<span class=\"fa fa-chevron-down\"></span>' +\n            //                     '</a>' +\n            //                     '</li>'\n            //             }\n\n            //             $('.side-menu').html(str);\n\n            //             setTimeout(function () {\n            //                 var count = 0, total = $('.side-menu>li>a').length;\n            //                 $('.side-menu>li>a').each(function (index, el) {\n\n\n            //                     var parId;\n            //                     parId = $(el).attr('data-id');\n\n            //                     $.ajax({\n            //                         url: '/oa/oa/core/funcs/system/act/SystemAct/lazyLoadMenu.act?parent=' + parId,\n            //                         data: {},\n            //                         type: 'get',\n            //                         dataType: 'json',\n            //                         success: function (res) {\n\n            //                             var str = '', i = 0, len, submenu, str2 = '', n, len2;\n\n            //                             if (res.rtState === '0') {\n\n            //                                 submenu = res.rtData;\n            //                                 len = submenu.length;\n\n            //                                 str = '<ul class=\"nav child_menu\">';\n            //                                 for (; i < len; i++) {\n\n            //                                     str += '<li><a href=\"javascript:void(0);\">' + submenu[i].text\n            //                                         + '<span class=\"fa fa-chevron-down\"></span>'\n            //                                         + '</a>';\n\n            //                                     if (typeof submenu[i].children !== 'undefined' && submenu[i].children.length > 0) {\n            //                                         str += '<ul class=\"nav child_menu\">';\n\n            //                                         for (n = 0, len2 = submenu[i].children.length; n < len2; n++) {\n\n            //                                             str += '<li><a href=\"javascript:void(0);\" data-action=\"openPage\" data-href=\"' + submenu[i].children[n].url + '\">' + submenu[i].children[n].text + '</a></li>';\n\n            //                                         }\n\n            //                                         str += '</ul>'\n            //                                     }\n\n            //                                     str += '</li>';\n\n            //                                 }\n            //                                 str += '</ul>';\n\n            //                                 $(el).parent().append(str);\n\n            //                                 count++;\n\n            //                                 if (count === total) {\n            //                                     setTimeout(function () {\n            //                                         console.log('initFold');\n                                                    commonFun.initFold();\n            //                                     });\n            //                                 }\n            //                             }\n\n            //                         }\n            //                     })\n            //                 });\n\n            //             })\n            //         }\n            //     }\n            // });\n        },\n        initFold: function () {\n            var CURRENT_URL = window.location.href.split('#')[0].split('?')[0],\n                $BODY = $('body'),\n                $MENU_TOGGLE = $('#menu_toggle'),\n                $SIDEBAR_MENU = $('#sidebar-menu'),\n                $SIDEBAR_FOOTER = $('.sidebar-footer'),\n                $LEFT_COL = $('.left_col'),\n                $RIGHT_COL = $('.right_col'),\n                $NAV_MENU = $('.nav_menu'),\n                $FOOTER = $('footer');\n            var debug = false;\n            var commonsole = {\n                log: function (msg) {\n                    try {\n                        if (debug) {\n                            console.log(msg);\n                        }\n                    } catch (e) {\n                        return 'Error:the function  log is not exist.';\n                    }\n                }\n            };\n\n            var debounce = function (func, threshold, execAsap) {\n                var timeout;\n\n                return function debounced() {\n                    var obj = this, args = arguments;\n                    function delayed() {\n                        if (!execAsap)\n                            func.apply(obj, args);\n                        timeout = null;\n                    }\n\n                    if (timeout)\n                        clearTimeout(timeout);\n                    else if (execAsap)\n                        func.apply(obj, args);\n\n                    timeout = setTimeout(delayed, threshold || 100);\n                };\n            };\n            // smartresize\n            jQuery.fn['smartresize'] = function (fn) { return fn ? this.bind('resize', debounce(fn)) : this.trigger('smartresize'); };\n\n            // Sidebar\n            function init_sidebar() {\n                // TODO: This is some kind of easy fix, maybe we can improve this\n                var setContentHeight = function () {\n                    // reset height\n                    $RIGHT_COL.css('min-height', $(window).height());\n\n                    var bodyHeight = $BODY.outerHeight(),\n                        footerHeight = $BODY.hasClass('footer_fixed') ? -10 : $FOOTER.height(),\n                        leftColHeight = $LEFT_COL.eq(1).height() + $SIDEBAR_FOOTER.height(),\n                        contentHeight = bodyHeight < leftColHeight ? leftColHeight : bodyHeight;\n\n                    // normalize content\n                    contentHeight -= $NAV_MENU.height() + footerHeight;\n\n                    $RIGHT_COL.css('min-height', contentHeight);\n                };\n\n                $SIDEBAR_MENU.find('a').on('click', function (ev) {\n                    commonsole.log('clicked - sidebar_menu');\n                    var $li = $(this).parent();\n\n                    if ($li.is('.active')) {\n                        $li.removeClass('active active-sm');\n                        $('ul:first', $li).slideUp(function () {\n                            setContentHeight();\n                        });\n                    } else {\n                        // prevent closing menu if we are on child menu\n                        if (!$li.parent().is('.child_menu')) {\n                            $SIDEBAR_MENU.find('li').removeClass('active active-sm');\n                            $SIDEBAR_MENU.find('li ul').slideUp();\n                        } else {\n                            if ($BODY.is(\".nav-sm\")) {\n                                $SIDEBAR_MENU.find(\"li\").removeClass(\"active active-sm\");\n                                $SIDEBAR_MENU.find(\"li ul\").slideUp();\n                            }\n                        }\n                        $li.addClass('active');\n\n                        $('ul:first', $li).slideDown(function () {\n                            setContentHeight();\n                        });\n                    }\n                });\n\n                // toggle small or large menu\n                $MENU_TOGGLE.on('click', function () {\n                    commonsole.log('clicked - menu toggle');\n\n                    if ($BODY.hasClass('nav-md')) {\n                        $SIDEBAR_MENU.find('li.active ul').hide();\n                        $SIDEBAR_MENU.find('li.active').addClass('active-sm').removeClass('active');\n                    } else {\n                        $SIDEBAR_MENU.find('li.active-sm ul').show();\n                        $SIDEBAR_MENU.find('li.active-sm').addClass('active').removeClass('active-sm');\n                    }\n\n                    $BODY.toggleClass('nav-md nav-sm');\n\n                    setContentHeight();\n                });\n\n                // check active menu\n                $SIDEBAR_MENU.find('a[href=\"' + CURRENT_URL + '\"]').parent('li').addClass('current-page');\n\n                $SIDEBAR_MENU.find('a').filter(function () {\n                    return this.href == CURRENT_URL;\n                }).parent('li').addClass('current-page').parents('ul').slideDown(function () {\n                    setContentHeight();\n                }).parent().addClass('active');\n\n                // recompute content when resizing\n                $(window).smartresize(function () {\n                    setContentHeight();\n                });\n\n                setContentHeight();\n\n                // fixed sidebar\n                if ($.fn.mCustomScrollbar) {\n                    $('.menu_fixed').mCustomScrollbar({\n                        autoHideScrollbar: true,\n                        theme: 'minimal',\n                        mouseWheel: { preventDefault: true }\n                    });\n                }\n            }\n            // /Sidebar\n\n            init_sidebar();\n        }\n    };\n\n    var commonAction = {\n        openPage: function (el) {\n            var url = $(el).attr('data-href');\n            var title = $(el).text();\n            var config = {\n                page: [{\n                    title: title,\n                    url: url\n                }]\n            };\n            console.log(config);\n\n            this._getSpecifiedPage(config);\n        },\n        _getSpecifiedPage: function(config) {\n            let defaults = {\n                page: [\n                    {\n                        title: \"新页面\",\n                        url: \"\",\n                        mode: \"col-md-12 col-sm-12 col-xs-12\",\n                        button: []\n                    }\n                ]\n            }, page_button = \"\", pagemain = \"\";\n    config = $.extend(defaults, config);\n    let pag = config.page;\n    if (pag.length > 0) {\n        $('[role=\"main\"]').html(\"\");\n        for (let i = 0; i < pag.length; i++) {\n            if (pag[i].button != undefined) {\n                if (pag[i].button.length > 0) {\n                    for (let l = 0; l < pag[i].button.length; l++) {\n                        page_button += `<li>\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"${pag[i].button[l].style}\"\n\t\t\t\t\t\t\t\t\t\t\t\tonclick=\"${pag[i].button[l].func}\" title=\"${pag[i].button[l].title}\">\n\t\t\t\t\t\t\t\t\t\t\t\t${pag[i].button[l].title}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>`;\n                    }\n                }\n            }\n            pagemain = `<div class=\"${pag[i].mode}\">\n\t\t\t\t\t\t\t\t<div class=\"x_panel\">\n\t\t\t\t\t\t\t\t\t<div class=\"x_title\">\n\t\t\t\t\t\t\t\t\t\t<h2 id=\"page-title\" page_name_${i}>${pag[i].title}</h2>\n\t\t\t\t\t\t\t\t\t\t<ul class=\"nav navbar-right panel_toolbox\" page_button>\n\t\t\t\t\t\t\t\t\t\t\t${page_button}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t<div class=\"clearfix\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"x_content\" id=\"page-main\" page_body_${i}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`;\n            $('[role=\"main\"]').append(pagemain);\n            $(`#page-main[page_body_${i}]`).load(pag[i].url);\n        }\n        $('[role=\"main\"]').append(`<div class=\"clearfix\"></div>`);\n    }\n}\n    };\n\n    commonFun.init();\n\n\n})(jQuery);\n"]}